<template>
  <div class="p-4">
    <h1 class="text-2xl font-bold mb-4">ç·šä¸Šå¡”ç¾…ç‰ŒæŠ½ç±¤</h1>
    <button @click="drawCards" class="bg-purple-600 text-white px-4 py-2 rounded">
      æŠ½ä¸‰å¼µç‰Œ ðŸ”®
    </button>

    <div v-if="cards.length" class="mt-6 space-y-4">
      <div v-for="(card, index) in cards" :key="index" class="p-4 border rounded shadow">
        <h2 class="text-xl font-semibold">ç¬¬ {{ index + 1 }} å¼µ - {{ card.card.name }}ï¼ˆ{{ card.position }}ï¼‰</h2>
        <p>{{ card.meaning }}</p>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const cards = ref([])

const drawCards = async () => {
  const res = await fetch('http://127.0.0.1:8000/api/draw/')
  cards.value = await res.json()
}
</script>